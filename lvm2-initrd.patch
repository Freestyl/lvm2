diff -urN LVM2.2.00.08.org/lib/commands/toolcontext.c LVM2.2.00.08/lib/commands/toolcontext.c
--- LVM2.2.00.08.org/lib/commands/toolcontext.c	2004-01-25 01:02:09.790833360 +0100
+++ LVM2.2.00.08/lib/commands/toolcontext.c	2004-01-31 00:29:48.775933701 +0100
@@ -422,8 +422,10 @@
 	mallopt(M_MMAP_MAX, 0);
 #endif
 
+#ifndef INITRD_WRAPPER
 	if (!setlocale(LC_ALL, ""))
 		log_error("setlocale failed");
+#endif
 
 	init_syslog(DEFAULT_LOG_FACILITY);
 
diff -urN LVM2.2.00.08.org/tools/commands.h LVM2.2.00.08/tools/commands.h
--- LVM2.2.00.08.org/tools/commands.h	2004-01-25 01:02:15.947554172 +0100
+++ LVM2.2.00.08/tools/commands.h	2004-01-31 00:29:48.781932453 +0100
@@ -33,9 +33,11 @@
     extents_ARG, size_ARG, nofsck_ARG, test_ARG)
 *********/
 
+#ifndef INITRD_WRAPPER
 xx(dumpconfig,
    "Dump active configuration",
    "dumpconfig <filename>\n")
+#endif
 
 xx(help,
    "Display help for commands",
@@ -51,6 +53,7 @@
    "Logical Volume(s)\n")
 ***********/
 
+#ifndef INITRD_WRAPPER
 xx(lvchange,
    "Change the attributes of logical volume(s)",
    "lvchange\n"
@@ -521,6 +524,7 @@
    "\tVolumeGroupName",
 
    file_ARG, list_ARG, metadatatype_ARG, name_ARG, test_ARG)
+#endif
 
 xx(vgchange,
    "Change volume group attributes",
@@ -541,6 +545,7 @@
    allocation_ARG, autobackup_ARG, available_ARG, ignorelockingfailure_ARG,
    logicalvolume_ARG, partial_ARG, resizeable_ARG, resizable_ARG, test_ARG)
 
+#ifndef INITRD_WRAPPER
 xx(vgck,
    "Check the consistency of volume group(s)",
    "vgck "
@@ -745,6 +750,7 @@
    
    aligned_ARG, ignorelockingfailure_ARG, noheadings_ARG, nosuffix_ARG,
    options_ARG, partial_ARG, separator_ARG, sort_ARG, unbuffered_ARG, units_ARG)
+#endif
 
 xx(vgscan,
    "Search for all volume groups",
@@ -759,6 +765,7 @@
 
    ignorelockingfailure_ARG, mknodes_ARG, partial_ARG)
 
+#ifndef INITRD_WRAPPER
 xx(vgsplit,
    "Move physical volumes into a new volume group",
    "vgsplit " "\n"
@@ -774,6 +781,7 @@
    "\tPhysicalVolumePath [PhysicalVolumePath...]\n",
 
    autobackup_ARG, list_ARG, metadatatype_ARG, test_ARG)
+#endif
 
 xx(version,
    "Display software and driver version information",
diff -urN LVM2.2.00.08.org/tools/lvm.c LVM2.2.00.08/tools/lvm.c
--- LVM2.2.00.08.org/tools/lvm.c	2004-01-25 01:02:15.970549395 +0100
+++ LVM2.2.00.08/tools/lvm.c	2004-01-31 00:30:31.907963796 +0100
@@ -1183,7 +1183,11 @@
 	base = basename(namebase);
 	while (*base == '/')
 		base++;
-	if (strcmp(base, "lvm"))
+	if (strcmp(base, "lvm")
+#ifdef INITRD_WRAPPER
+		&& strcmp(base, "initrd-lvm")
+#endif
+		)
 		alias = 1;
 	free(namebase);
 

--- LVM2.2.02.26/lib/activate/activate.c.orig	2007-04-27 19:46:16.000000000 +0200
+++ LVM2.2.02.26/lib/activate/activate.c	2007-07-01 14:29:02.876230929 +0200
@@ -313,7 +313,7 @@ static int _passes_activation_filter(str
 			else
 				continue;
 		}
-		if (!index(str, '/')) {
+		if (!strchr(str, '/')) {
 			/* vgname supplied */
 			if (!strcmp(str, lv->vg->name))
 				return 1;
--- LVM2.2.02.26/lib/activate/dev_manager.c.orig	2007-05-15 16:42:01.000000000 +0200
+++ LVM2.2.02.26/lib/activate/dev_manager.c	2007-07-01 14:29:24.301451882 +0200
@@ -561,7 +561,7 @@ int dev_manager_mirror_percent(struct de
 	log_debug("Getting device info for %s", dl->name);
 
 	/* Rename? */
-		if ((suffix = rindex(dl->dlid + sizeof(UUID_PREFIX) - 1, '-')))
+		if ((suffix = strrchr(dl->dlid + sizeof(UUID_PREFIX) - 1, '-')))
 			suffix++;
 		newname = build_dm_name(dm->mem, dm->vg_name, dl->lv->name,
 					suffix);
--- LVM2.2.02.26/lib/format_text/archive.c.orig	2007-06-09 00:38:48.000000000 +0200
+++ LVM2.2.02.26/lib/format_text/archive.c	2007-07-01 14:28:28.034245397 +0200
@@ -71,7 +71,7 @@ static int _split_vg(const char *filenam
 	if (strcmp(".vg", dot))
 		return 0;
 
-	if (!(underscore = rindex(filename, '_')))
+	if (!(underscore = strrchr(filename, '_')))
 		return 0;
 
 	if (sscanf(underscore + 1, "%u", ix) != 1)
--- LVM2.2.02.26/lib/format_text/format-text.c.orig	2007-06-09 00:38:48.000000000 +0200
+++ LVM2.2.02.26/lib/format_text/format-text.c	2007-07-01 14:28:28.034245397 +0200
@@ -850,7 +850,7 @@
 	char *slash;
 	char temp_file[PATH_MAX], temp_dir[PATH_MAX];
 
-	slash = rindex(tc->path_edit, '/');
+	slash = strrchr(tc->path_edit, '/');
 
 	if (slash == 0)
 		strcpy(temp_dir, ".");
@@ -948,7 +948,7 @@
 		return 0;
 
 	/* vgrename? */
-	if ((slash = rindex(tc->path_live, '/')))
+	if ((slash = strrchr(tc->path_live, '/')))
 		slash = slash + 1;
 	else
 		slash = tc->path_live;
--- LVM2.2.02.26/lib/snapshot/snapshot.c.orig	2006-10-18 20:01:52.000000000 +0200
+++ LVM2.2.02.26/lib/snapshot/snapshot.c	2007-07-01 14:27:57.560508797 +0200
@@ -98,7 +98,7 @@ static int _snap_target_percent(void **t
 	float percent2;
 	uint64_t numerator, denominator;
 
-	if (index(params, '/')) {
+	if (strchr(params, '/')) {
 		if (sscanf(params, "%" PRIu64 "/%" PRIu64,
 			   &numerator, &denominator) == 2) {
 			*total_numerator += numerator;
